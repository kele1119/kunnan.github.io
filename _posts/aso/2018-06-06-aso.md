---
layout: post
title: aso
date: 2018-06-06
tag: aso
site: https://zhangkn.github.io
catalog: true
author: kunnan
subtitle: aso、PTFakeTouch
---



#### PTFakeTouch

>* [PTFakeTouchdemo] (https://github.com/iosaso/PTFakeTouchDemo)

```
包括 PTFakeTouch源码 
```

>* [作者发的iosre 帖子](http://bbs.iosre.com/t/ios/4748)
```
不越狱的话只能在当前程序中调用
```

# issus


#### 找不到`#import <IOKit/IOKit.h>`

>* [IOKit](https://github.com/iolate/iOS-Private-Headers/tree/master/IOKit/hid) 修改为`<IOKit/IOKitLib.h>`， 编译完成之后， 链接的时候报这个

```
  "_IOHIDEventAppendEvent", referenced from:
      _kif_IOHIDEventWithTouches in PTFakeTouch(IOHIDEvent+KIF.o)
```


>* [IOKit 头文件](https://github.com/iosaso/WGSTouchUtil/tree/master/IOKit)

```
devzkndeMacBook-Pro:IOKit devzkn$ tree -L 2
.
├── IOKitKeys.h
├── IOKitLib.h
├── IOReturn.h
├── IOTypes.h
├── OSKext.h
├── OSMessageNotification.h
└── hid
    ├── IOHIDDisplay.h
    ├── IOHIDEvent.h
    ├── IOHIDEvent7.h
    ├── IOHIDEventData.h
    ├── IOHIDEventQueue.h
    ├── IOHIDEventSystem.h
    ├── IOHIDEventSystemClient.h
    ├── IOHIDEventSystemConnection.h
    ├── IOHIDEventTypes.h
    ├── IOHIDEventTypes7.h
    ├── IOHIDNotification.h
    ├── IOHIDService.h
    ├── IOHIDSession.h
    ├── IOHIDUserDevice.h
    └── OSType.h
```

# See Also 

#### [分享注入和打包的两个小心得](http://bbs.iosre.com/t/topic/6242)

>* 1 注入的时候加入JSPatch,这样lib只需要有JSPath就好了。hook的代码通过热更新js执行
>* 2 重签名的时候用`*`的描述文件签名 ,这样bundle id可以修改成任意id; 绕开有bundleid校验的app
>```
>比如微信，网易云音乐。而且经测试这样重签名后推送也可以收到。
>```


#### PTFakeTouch

>* [PTFakeTouch](https://github.com/iosaso/PTFakeTouch):一个外国人写的[KIF自动化测试框架](https://github.com/kif-framework/KIF)基础上开发的。用了很多私有API

>* [PTFakeTouchDemo](https://github.com/zjjno/PTFakeTouchDemo)
>* [分享一下iOS上的模拟点击实现](http://bbs.iosre.com/t/ios/4748/25)


#### [讨论一下逆向混淆过的程序的思路](http://bbs.iosre.com/t/topic/3994)

```
1)出口处看堆栈。统计N次stack日志里最常出现的方法就是加密解密的方法。
2)搜索密码学用的常数。
3)IR层用CSEKSE重写来合并指令
```

#### inject

>* [inject dylib into Mach-o file on MacOS](https://github.com/iosaso/Injector-Mac)


#### anti-class-dump

>* [加固防dump-OC代码混淆器](https://github.com/iosaso/oc-obfuscator)


>* [knpost](https://github.com/zhangkn/KNBin/blob/master/knpost) 
>
```
/Users/devzkn/bin/knpost aso aso、PTFakeTouch -t aso
> #原来""的参数，需要自己加上""
```

